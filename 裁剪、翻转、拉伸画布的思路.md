裁剪：
1.需要知道裁剪前整个画布的大小，以及每一个元素的位置
2.裁剪只裁剪底图，其它元素随着裁剪大小的进行位置的变更，如果发生回滚，只需要调整所有元素的位置
3.裁剪后添加的新元素无需考虑，因为回退的时候，会先删除这些新元素
4.裁剪回退，根据底图以及裁剪范围进行回退


翻转、旋转：
1.翻转时，所有元素跟着翻转，旋转时同理，只支持90° 180° 270° 360°的旋转。
2.旋转或翻转后，现有的元素怎么处理？
2.1对于翻转，先原地翻，然后再重新计算位置，回退的时候，反过来算一遍
2.2对于旋转，麻烦一些，

拉伸画布：
1.给上下左右增加四个小方块，这四个小方块，可以拉伸画布。

旋转与翻转：
整个画布一共有16种情况，分别是上下左右的拉伸与不拉伸，每种都有2个，2*2*2*2一共为16个

先考虑翻转
拉表示某一侧已经被拉伸过，有隐藏的部分。
举个例子，假如原图是200x200，但是右侧被拉伸到了300，底图就变成了200x300。
但是右侧又拉伸回了200，实际上原图还是200x300，但是用户能看到的部分，只是200x200，对于超出的部分，又未显示，我们需要慎重的考虑。
对于那些被拉伸过，因此有一部分不显示，但是实际上还在底图中存在，这种情况我们要在翻转中进行考虑。
| 上 | 下 | 左 | 右 | 处理结果 |
| 不 | 不 | 不 | 不 | 左右、上下翻转，都是直接翻，无需考虑任何变化 |
| 不 | 不 | 不 | 拉 | 上下翻转直接翻，左右翻转的时候，先翻转，然后整个图片向左平移一定数量，相当于原来右侧多余的部分，要迁移到左侧 |
| 不 | 不 | 拉 | 不 | 上下翻转直接翻，左右翻转的时候，先翻转，然后整个图片向右平移一定数量，相当于原来左侧多余的部分，要迁移到右侧 |
| 不 | 不 | 拉 | 拉 | 上下翻转直接翻，左右翻转的时候，先翻转，然后整个图片平移一定数量，左侧多余的部分迁移到右侧，右侧多余的部分迁移到左侧 |
| 不 | 拉 | 不 | 不 | 左右翻转直接翻，上下翻转的时候，先翻转，然后整个图片向上平移一定数量，相当于原来下侧多余的部分，要迁移到上侧 |
| 不 | 拉 | 不 | 拉 | 上下翻转时，向上平移上侧多余的部分，左侧不要动；左右翻转时，向右平移左侧多余的部分，上侧不要动 |
| 不 | 拉 | 拉 | 不 | 上下翻转时，向上平移上侧多余的部分，右侧不要动；左右翻转时，向左平移右侧多余的部分，上侧不要动 |
| 不 | 拉 | 拉 | 拉 | 左右翻转时，向左或向右平移左右侧不可见部分的差值，上下侧不要动；上下翻转时，向上平移下侧多余的部分，左右侧不要动 |
| 拉 | 不 | 不 | 不 | 左右翻转直接翻，上下翻转的时候，先翻转，然后整个图片向下平移一定数量，相当于原来上侧多余的部分，要迁移到下侧 |
| 拉 | 不 | 不 | 拉 | 上下翻转时，向下平移上侧多余的部分，左侧不要动；左右翻转时，向右平移左侧多余的部分，上侧不要动 |
| 拉 | 不 | 拉 | 不 | 上下翻转时，向下平移上侧多余的部分，右侧不要动；左右翻转时，向左平移右侧多余的部分，上侧不要动 |
| 拉 | 不 | 拉 | 拉 | 左右翻转时，向左或向右平移左右侧不可见部分的差值，上下侧不要动；上下翻转时，向下平移上侧多余的部分，上左右侧不要动 |
| 拉 | 拉 | 不 | 不 | 左右翻转直接翻，上下翻转的时候，先翻转，然后整个图片平移一定数量，上侧多余的部分迁移到下侧，下侧多余的部分迁移到上侧 |
| 拉 | 拉 | 不 | 拉 | 上下翻转时，向上或向下平移上下不可见部分的差值，右侧不要动；左右翻转时，向左平移右侧多余的部分，上下侧不要动 | 
| 拉 | 拉 | 拉 | 不 | 上下翻转时，向上或向下平移上下不可见部分的差值，右侧不要动；左右翻转时，向右平移右侧多余的部分，上下侧不要动 | 
| 拉 | 拉 | 拉 | 拉 | 上下翻转时，向上或向下平移上下不可见部分的差值，右侧不要动；左右翻转时，向左或右平移左右不可见部分的差值，上下侧不要动 |

再考虑旋转，旋转只支持0,90,180,360，依旧要分16种情况讨论，默认长宽不一致：
| 上 | 下 | 左 | 右 | 处理结果 |
| 不 | 不 | 不 | 不 | 直接旋转，每旋转90度，长宽互换 |
| 不 | 不 | 不 | 拉 | 顺时针旋转时，右侧多出的部分转移到下侧，逆时针旋转时，右侧多出的部分转移到上侧 |
| 不 | 不 | 拉 | 不 | 顺时针旋转时，左侧多出的部分转移到上侧，逆时针旋转时，左侧多出的部分转移到上侧 |
| 不 | 不 | 拉 | 拉 | 顺时针旋转时，右侧多出的部分转移到下侧，左侧多出的部分转移到上侧，逆时针旋转时，右侧多出的部分转移到上侧，左侧多余的部分转移到下侧 |
| 不 | 拉 | 不 | 不 | 顺时针旋转时，下侧多出的部分转移到左侧，逆时针旋转时，下侧多出的部分转移到左侧 |
| 不 | 拉 | 不 | 拉 | 顺时针旋转时，下侧多出的部分转移到左侧，右侧多出的部分转移到下侧，逆时针旋转时，下侧多出的部分转移到右侧，右侧多出的部分转移到上侧 |
| 不 | 拉 | 拉 | 不 | 顺时针旋转时，下侧多出的部分转移到左侧，左侧多出的部分转移到上侧，逆时针旋转时，下侧多出的部分转移到右侧，左侧多出的部分转移到下侧 |
| 不 | 拉 | 拉 | 拉 | 顺时针旋转时，左转上，下转左，右转下，逆时针旋转时，右转上，下转右，左转下 |
| 拉 | 不 | 不 | 不 | 顺时针旋转时，上侧多余的部分转移到右侧，逆时针旋转时，下侧多余的部分转移到左侧 |
| 拉 | 不 | 不 | 拉 | 顺时针旋转时，上侧多余的部分转移到右侧，右侧多余的部分转移到下侧，逆时针旋转时，上侧多余的部分转移到左侧，右侧多余的部分转移到上侧 |
| 拉 | 不 | 拉 | 不 | 顺时针旋转时，上侧多余的部分转移到右侧，左侧多余的部分转移到上侧，逆时针旋转时，上侧多余的部分转移到左侧，左侧多余的部分转移到下侧 |
| 拉 | 不 | 拉 | 拉 | 顺时针旋转时，上转右，右转下，左转上，逆时针旋转时，上转左，左转下，右转上 |
| 拉 | 拉 | 不 | 不 | 顺时针旋转时，上侧多出的部分转移到右侧，下侧多出的部分转移到左侧，逆时针旋转时，上侧多出的部分转移到左侧，下侧多出的部分转移到右侧 |
| 拉 | 拉 | 不 | 拉 | 顺时针旋转时，上转右，下转左，右转下，逆时针旋转时，上转左，下转右，右转上 |
| 拉 | 拉 | 拉 | 不 | 顺时针旋转时，上转右，下转左，左转上，逆时针旋转时，上左转，下转右，左转下 |
| 拉 | 拉 | 拉 | 拉 | 顺时针旋转时，上转右，右转下，下转左，左转上，逆时针旋转时，上转左，左转下，下转右，右转上 |